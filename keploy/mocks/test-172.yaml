version: api.keploy.io/v1beta1
kind: SQL
name: test-172-0
spec:
    metadata:
        name: SQL
        operation: PrepareContext
        query: '"WITH optins AS ( SELECT id FROM lists WHERE optin = ''double'' ) DELETE FROM subscriber_lists WHERE status = ''unconfirmed'' AND list_id IN (SELECT id FROM optins) AND created_at < $1;"'
        type: SQL_DB
    type: error
    int: 0
    error:
        - nil
---
version: api.keploy.io/v1beta1
kind: SQL
name: test-172-1
spec:
    metadata:
        name: SQL
        operation: PrepareContext.NumInput
        type: SQL_DB
    type: int
    int: 1
    error:
        - nil
---
version: api.keploy.io/v1beta1
kind: SQL
name: test-172-2
spec:
    metadata:
        arguments: '[{ 1 2022-12-28 05:04:05 +0000 UTC}]'
        name: SQL
        operation: ExecContext
        type: SQL_DB
    type: error
    int: 0
    error:
        - nil
---
version: api.keploy.io/v1beta1
kind: SQL
name: test-172-3
spec:
    metadata:
        arguments: '[{ 1 2022-12-28 05:04:05 +0000 UTC}]'
        name: SQL
        operation: ExecContext.LastInsertId
        type: SQL_DB
    type: int
    int: 0
    error:
        - LastInsertId is not supported by this driver
---
version: api.keploy.io/v1beta1
kind: SQL
name: test-172-4
spec:
    metadata:
        arguments: '[{ 1 2022-12-28 05:04:05 +0000 UTC}]'
        name: SQL
        operation: ExecContext.RowsAffected
        type: SQL_DB
    type: int
    int: 0
    error:
        - nil
---
version: api.keploy.io/v1beta1
kind: SQL
name: test-172-5
spec:
    metadata:
        name: SQL
        operation: PrepareContext.Close
        type: SQL_DB
    type: error
    int: 0
    error:
        - nil
