version: api.keploy.io/v1beta2
kind: Http
name: test-39
spec:
    metadata: {}
    req:
        method: PUT
        proto_major: 1
        proto_minor: 1
        url: /api/subscribers/lists
        header:
            Accept: application/json, text/plain, */*
            Accept-Encoding: gzip, deflate, br
            Accept-Language: en-GB,en
            Authorization: Basic bGlzdG1vbms6bGlzdG1vbms=
            Connection: keep-alive
            Content-Length: "66"
            Content-Type: application/json
            Cookie: connect.sid=s%3AdxWsE0jhYYsXQwFQKZJhtK_5Jli7MPB1.Wjbj0YQ3J7yJE1Zx21NQAWPtrz1f8i73j9FAnlvbrSg
            Origin: http://localhost:9000
            Referer: http://localhost:9000/admin/subscribers
            Sec-Fetch-Dest: empty
            Sec-Fetch-Mode: cors
            Sec-Fetch-Site: same-origin
            Sec-Gpc: "1"
            User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36
        body: '{"action":"add","list_ids":null,"target_list_ids":[11],"ids":[23]}'
        body_type: ""
    resp:
        status_code: 500
        header:
            Content-Type: application/json; charset=UTF-8
        body: 'Error updating Subscribers: pq: insert or update on table "subscriber_lists" violates foreign key constraint "subscriber_lists_subscriber_id_fkey"'
        body_type: ""
        status_message: ""
        proto_major: 1
        proto_minor: 1
    objects:
        - type: error
          data: ""
    mocks:
        - test-39-0
        - test-39-1
        - test-39-2
        - test-39-3
    assertions:
        noise: []
    created: 1671390758
