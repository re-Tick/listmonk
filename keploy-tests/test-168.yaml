version: api.keploy.io/v1beta1
kind: Http
name: test-168
spec:
    metadata: {}
    req:
        method: GET
        proto_major: 1
        proto_minor: 1
        url: /subscription/e6152472-56ca-4e3e-b086-ea8bfb70c0c3/59558b84-1575-4dc9-b7d8-93b0b7b54849
        header:
            Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8
            Accept-Encoding: gzip, deflate, br
            Accept-Language: en-GB,en
            Authorization: Basic bGlzdG1vbms6bGlzdG1vbms=
            Connection: keep-alive
            Cookie: connect.sid=s%3AdxWsE0jhYYsXQwFQKZJhtK_5Jli7MPB1.Wjbj0YQ3J7yJE1Zx21NQAWPtrz1f8i73j9FAnlvbrSg
            Sec-Fetch-Dest: document
            Sec-Fetch-Mode: navigate
            Sec-Fetch-Site: none
            Sec-Fetch-User: ?1
            Sec-Gpc: "1"
            Upgrade-Insecure-Requests: "1"
            User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36
        body: ""
    resp:
        status_code: 200
        header:
            Content-Type: text/html; charset=UTF-8
            X-Robots-Tag: noindex
        body: "\n\n<!DOCTYPE html>\n<html>\n<head>\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\t\n\t<title>Unsubscribe from mailing list</title>\n\t<meta name=\"description\" content=\"\" />\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1\" />\n\t<link href=\"/public/static/style.css\" rel=\"stylesheet\" type=\"text/css\" />\n\t<link href=\"/public/custom.css\" rel=\"stylesheet\" type=\"text/css\">\n\t<script src=\"/public/custom.js\" async defer></script>\n\n\t\n\t\t<link rel=\"shortcut icon\" href=\"/public/static/favicon.png\" type=\"image/x-icon\" />\n\t\n</head>\n<body>\n    <div class=\"container wrap\">\n\t\t<header class=\"header\">\n\t\t\t<div class=\"logo\">\n\t\t\t\t\n\t\t\t\t\t<img src=\"/public/static/logo.svg\" alt=\"Unsubscribe from mailing list\" />\n\t\t\t\t\n\t\t\t</div>\n\t\t</header>\n\n<section class=\"section\">\n    <h2>Unsubscribe</h2>\n    <p>Do you want to unsubscribe from this mailing list?</p>\n    <form method=\"post\">\n        <div>\n            \n                <p>\n                    <input id=\"privacy-blocklist\" type=\"checkbox\" name=\"blocklist\" value=\"true\" />\n                    <label for=\"privacy-blocklist\">Also unsubscribe from all future e-mails.</label>\n                </p>\n            \n\n            <p>\n                <button type=\"submit\" class=\"button\" id=\"btn-unsub\">Unsubscribe</button>\n            </p>\n        </div>\n    </form>\n</section>\n\n\n<form id=\"data-form\" method=\"post\" action=\"\" onsubmit=\"return handleData()\">\n    <section>\n        <h2>Privacy and data</h2>\n        \n        <div class=\"row\">\n            <input id=\"privacy-export\" type=\"radio\" name=\"data-action\" value=\"export\" required />\n            <label for=\"privacy-export\"><strong>Export your data</strong></label>\n            <br />\n            A copy of your data will be e-mailed to you.\n        </div>\n        \n\n        \n        <div class=\"row\">\n            <input id=\"privacy-wipe\" type=\"radio\" name=\"data-action\" value=\"wipe\" required />\n            <label for=\"privacy-wipe\"><strong>Wipe your data</strong></label>\n            <br />\n            Delete all your subscriptions and related data from the database permanently.\n        </div>\n        \n        <p>\n            <input type=\"submit\" value=\"Continue\" class=\"button button-outline\" />\n        </p>\n    </section>\n</form>\n<script>\n    function handleData() {\n        var a = document.querySelector('input[name=\"data-action\"]:checked').value,\n            f = document.querySelector(\"#data-form\");\n        if (a == \"export\") {\n            f.action = \"/subscription/export/59558b84-1575-4dc9-b7d8-93b0b7b54849\";\n            return true;\n        } else if (confirm(\"Are you sure you want to delete all your subscription data permanently?\")) {\n            f.action = \"/subscription/wipe/59558b84-1575-4dc9-b7d8-93b0b7b54849\";\n            return true;\n        }\n        return false;\n    }\n</script>\n\n\n\n\t</div>\n\t\n\t<footer class=\"container\">\n\t\tPowered by <a target=\"_blank\" href=\"https://listmonk.app\">listmonk</a>\n\t</footer>\n</body>\n</html>\n\n"
        status_message: ""
        proto_major: 1
        proto_minor: 1
    objects:
        - type: error
          data: ""
    mocks:
        - test-168-0
        - test-168-1
        - test-168-2
        - test-168-3
        - test-168-4
        - test-168-5
        - test-168-6
        - test-168-7
        - test-168-8
        - test-168-9
    assertions:
        noise: []
    created: 1671710930
